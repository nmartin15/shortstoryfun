/* Short Story Pipeline - Modern Design with Tailwind + Custom Styles */

/* Ensure all form elements have visible text - CRITICAL FIX */
textarea,
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
select {
    color: #ffffff !important;
    background-color: #141414 !important;
}

textarea::placeholder,
input::placeholder {
    color: #6b7280 !important;
    opacity: 1 !important;
}

/* Custom Animations */
@keyframes shimmer {
    0%, 100% { transform: translateX(-100%); }
    50% { transform: translateX(100%); }
}

.animate-shimmer {
    animation: shimmer 3s infinite;
}

/* Form Inputs - shadcn-style */
.form-input {
    @apply w-full px-4 py-3 bg-background-tertiary border-2 border-gray-800 rounded-lg text-white placeholder-gray-600 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all;
    color: #ffffff !important;
}

.form-input::placeholder {
    color: #6b7280 !important;
    opacity: 1 !important;
}

.form-input:focus {
    box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.1), 0 0 20px rgba(255, 215, 0, 0.2);
}

/* Buttons - shadcn-style */
.btn-primary-mobile {
    @apply px-6 py-3 bg-gradient-to-r from-primary to-primary-light text-black font-semibold rounded-lg shadow-lg shadow-primary/30 hover:shadow-xl hover:shadow-primary/40 transition-all duration-300 transform hover:-translate-y-0.5 active:translate-y-0 flex items-center justify-center;
}

.btn-secondary-mobile {
    @apply px-4 py-2.5 bg-background-tertiary border-2 border-gray-800 text-gray-300 font-medium rounded-lg hover:bg-background-secondary hover:border-primary hover:text-primary transition-all duration-200 flex items-center justify-center;
}

/* Status Indicator */
.status-indicator {
    @apply w-3 h-3 rounded-full bg-primary shadow-lg shadow-primary/50;
    animation: pulse 2s infinite;
}

.status-indicator.status-warning {
    @apply bg-orange-500 shadow-orange-500/50;
}

.status-indicator.status-error {
    @apply bg-red-500 shadow-red-500/50;
}

@keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.1); }
}

/* Story Cards - Mobile Responsive */
.story-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6;
}

.story-card {
    @apply bg-background-secondary border-2 border-gray-800 rounded-xl p-4 sm:p-6 transition-all duration-300 cursor-pointer hover:border-primary hover:shadow-lg hover:shadow-primary/20 hover:-translate-y-1;
}

.story-card-header {
    @apply flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-3;
}

.story-title {
    @apply text-lg sm:text-xl font-bold text-primary mb-1;
}

.story-date {
    @apply text-xs sm:text-sm text-gray-500;
}

.story-preview {
    @apply text-sm sm:text-base text-gray-400 line-clamp-3 mb-4;
}

.story-meta {
    @apply flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 pt-4 border-t border-gray-800;
}

.story-word-count {
    @apply text-xs sm:text-sm text-gray-500;
}

.story-card-actions {
    @apply flex flex-wrap gap-2 mt-3;
}

/* Loading States */
.loading {
    @apply fixed inset-0 z-50 flex flex-col items-center justify-center text-center py-12 sm:py-16 px-4;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(8px);
}

.loading::before {
    content: '';
    @apply absolute inset-0;
    background: radial-gradient(circle at center, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
    animation: pulse 3s ease-in-out infinite;
}

#loading-text {
    @apply text-xl sm:text-2xl font-bold text-primary mb-8 relative z-10;
    text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
    animation: pulse 2s ease-in-out infinite;
}

.progress-steps {
    @apply max-w-2xl mx-auto space-y-3 relative z-10;
}

.progress-step {
    @apply flex items-center gap-4 p-4 bg-background-secondary border-2 border-gray-800 rounded-lg transition-all duration-300 opacity-50;
    min-height: 60px;
}

.progress-step.active {
    @apply opacity-100 border-primary shadow-lg shadow-primary/20;
    transform: scale(1.02);
    background: rgba(255, 215, 0, 0.05);
}

.progress-step.completed {
    @apply opacity-100 border-primary;
}

.progress-step .step-icon {
    @apply text-2xl w-10 text-center text-gray-500 font-bold;
    transition: all 0.3s ease;
}

.progress-step.active .step-icon {
    @apply text-primary;
}

.progress-step.completed .step-icon {
    @apply text-primary;
}

.progress-step .step-text {
    @apply text-base sm:text-lg text-gray-300 font-medium flex-1;
}

.spinner {
    @apply border-4 border-background-tertiary border-t-primary rounded-full w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-6 relative z-10;
    animation: spin 1s linear infinite;
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.5), 0 0 60px rgba(255, 215, 0, 0.3);
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Error/Success Messages */
.error, .success {
    @apply rounded-lg border-l-4 p-0 overflow-hidden;
    animation: slideIn 0.3s ease-out;
}

.error {
    @apply bg-red-950/20 border-red-500;
}

.success {
    @apply bg-green-950/20 border-green-500;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.error-header, .success .error-header {
    @apply flex items-center gap-3 px-4 py-3 border-b border-gray-800/50;
}

.error-header {
    @apply bg-red-950/30;
}

.success .error-header {
    @apply bg-green-950/30;
}

.error-message {
    @apply px-4 py-4 text-sm sm:text-base;
}

.error {
    @apply text-red-400;
}

.success {
    @apply text-green-400;
}

.error-close {
    @apply ml-auto bg-transparent border-none text-current opacity-70 hover:opacity-100 transition-opacity text-xl cursor-pointer rounded p-1;
}

/* Export Dropdown */
.export-dropdown {
    @apply relative;
}

.export-menu {
    @apply absolute top-full left-0 mt-2 z-50;
}

.export-menu.show {
    animation: slideDown 0.2s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.export-option {
    @apply block w-full text-left px-4 py-3 text-sm sm:text-base text-gray-300 hover:bg-background-secondary hover:text-primary transition-colors border-b border-gray-800 last:border-b-0;
}

/* Validation Results */
.validation-results {
    @apply p-4 sm:p-6 bg-background-tertiary rounded-xl border border-gray-800 mt-6;
}

.validation-results h3 {
    @apply text-lg sm:text-xl font-bold text-primary mb-4;
}

.validation-results .result-item {
    @apply mb-4 p-4 bg-background-secondary rounded-lg border-l-4 border-primary;
}

.validation-results .score {
    @apply font-bold text-primary text-lg;
}

/* Revision History */
.revision-history-section {
    @apply mt-6 sm:mt-8 p-4 sm:p-6 bg-background-tertiary rounded-xl border border-gray-800;
}

.revision-history-section h3 {
    @apply text-lg sm:text-xl font-bold text-primary mb-4;
}

.revision-list {
    @apply space-y-3;
}

.revision-item {
    @apply bg-background-secondary p-4 rounded-lg border-2 border-gray-800 hover:border-primary transition-all duration-300;
}

.revision-header {
    @apply flex flex-wrap items-center gap-3 mb-2;
}

.revision-version {
    @apply font-bold text-primary;
}

.revision-type {
    @apply px-2 py-1 bg-background-tertiary rounded text-xs text-primary border border-gray-800;
}

.revision-date {
    @apply ml-auto text-xs text-gray-500;
}

.revision-meta {
    @apply text-sm text-gray-400;
}

/* Comparison Section */
.comparison-section {
    @apply mt-6 sm:mt-8 p-4 sm:p-6 bg-background-tertiary rounded-xl border border-gray-800;
}

.comparison-header {
    @apply flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6;
}

.comparison-header h3 {
    @apply text-lg sm:text-xl font-bold text-primary;
}

.comparison-controls {
    @apply flex flex-col sm:flex-row gap-4 items-start sm:items-center mb-6;
}

.comparison-controls label {
    @apply flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm;
}

.comparison-controls select {
    @apply form-input w-full sm:w-auto min-w-[150px];
}

.comparison-summary {
    @apply bg-background-secondary p-4 sm:p-6 rounded-lg border border-gray-800 mb-6;
}

.comparison-summary h4 {
    @apply text-base sm:text-lg font-bold text-primary mb-4;
}

.comparison-stats {
    @apply flex flex-wrap gap-4;
}

.stat-item {
    @apply px-4 py-2 bg-background-tertiary rounded-lg border border-gray-800 text-sm;
}

.stat-item .positive {
    @apply text-primary font-semibold;
}

.stat-item .negative {
    @apply text-red-400 font-semibold;
}

.comparison-texts {
    @apply grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6;
}

.comparison-version {
    @apply bg-background-secondary p-4 sm:p-6 rounded-lg border border-gray-800;
}

.comparison-version h4 {
    @apply text-base sm:text-lg font-bold text-primary mb-4 pb-3 border-b border-gray-800;
}

.version-text {
    @apply mb-4 text-sm sm:text-base text-gray-300 whitespace-pre-wrap max-h-[400px] overflow-y-auto p-4 bg-background-tertiary rounded border border-gray-800 font-mono leading-relaxed;
}

.version-meta {
    @apply text-xs sm:text-sm text-gray-500 pt-4 border-t border-gray-800;
}

/* Container */
.container {
    @apply bg-background-secondary rounded-2xl sm:rounded-3xl shadow-2xl border border-gray-900 overflow-hidden;
    box-shadow: 0 0 40px rgba(255, 215, 0, 0.1);
}

/* Mobile Optimizations */
@media (max-width: 640px) {
    .container {
        @apply rounded-xl mx-2;
    }
    
    header {
        @apply p-4 sm:p-6;
    }
    
    main {
        @apply p-4;
    }
    
    .editor-actions {
        @apply flex-col;
    }
    
    .btn-secondary-mobile,
    .btn-primary-mobile {
        @apply w-full;
    }
    
    .export-menu {
        @apply left-auto right-0;
    }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Focus visible for keyboard navigation */
*:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary;
}

/* Print styles */
@media print {
    .btn,
    .editor-actions,
    .story-browser-section {
        @apply hidden;
    }
}
